#!/bin/bash

# Genesis Chronicle PKG å®‰è£å‰è…³æœ¬
# é€™å€‹è…³æœ¬åœ¨ PKG å®‰è£é–‹å§‹å‰åŸ·è¡Œ

set -e

echo "ğŸ® æº–å‚™å®‰è£ Genesis Chronicle..."

# æª¢æŸ¥æ˜¯å¦æœ‰èˆŠç‰ˆæœ¬å­˜åœ¨
if [ -d "/Applications/genesis-chronicle.app" ]; then
    echo "ğŸ“¦ ç™¼ç¾èˆŠç‰ˆæœ¬ï¼Œæº–å‚™æ›´æ–°..."
    
    # å‚™ä»½ä½¿ç”¨è€…è³‡æ–™ï¼ˆå¦‚æœéœ€è¦ï¼‰
    USER_DATA_DIR="$HOME/Library/Application Support/genesis-chronicle"
    if [ -d "$USER_DATA_DIR" ]; then
        echo "ğŸ’¾ ä¿ç•™ä½¿ç”¨è€…è³‡æ–™..."
        # è³‡æ–™å·²åœ¨æ­£ç¢ºä½ç½®ï¼Œç„¡éœ€ç§»å‹•
    fi
    
    # ç§»é™¤èˆŠç‰ˆæœ¬
    rm -rf "/Applications/genesis-chronicle.app"
    echo "âœ… èˆŠç‰ˆæœ¬å·²ç§»é™¤"
fi

# ç¢ºä¿ Applications è³‡æ–™å¤¾å­˜åœ¨
mkdir -p "/Applications"

echo "âœ… æº–å‚™å·¥ä½œå®Œæˆï¼Œé–‹å§‹å®‰è£..."

exit 0